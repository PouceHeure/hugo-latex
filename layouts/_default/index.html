{{ define "main" }}
<div class="homepage-container">
    <h1 class="text-primary mb-0 d-flex align-items-center">
        Welcome <h4 class="text-secondary dynamic-container ms-2"><h4 id="changing-word" class="dynamic-text"></h4></h4>
    </h1>
    
    
    <p class="lead">
        I specialize in autonomous vehicle navigation and human driving behavior prediction. My work focuses on lane centering, obstacle avoidance, and machine learning-based behavior prediction to improve human-machine interaction in self-driving systems. Using deep learning, particularly recurrent neural networks (RNNs), I develop models to anticipate driver intentions and enhance autonomous mobility.
    </p>

    
    <div class="row mt-5">
        <div class="col-md-4 text-center text-primary">
            <h3>üìÑ My CV</h3>
            <p>Discover my academic and professional background.</p>
            <a href="/cv/" class="btn btn-primary">View CV</a>
        </div>
        <div class="col-md-4 text-center text-secondary">
            <h3>üìù Projects</h3>
            <p>Articles about my research, discoveries, and reflections.</p>
            <a href="/projects/" class="btn btn-secondary">View Projects</a>
        </div>
        <div class="col-md-4 text-center text-info">
            <h3>üìö Scientific Articles</h3>
            <p>Access my scientific publications and academic contributions.</p>
            <a href="/articles/" class="btn btn-info">View Publications</a>
        </div>
    </div>
    
</div>

<div class="container mt-5">
    <h2 class="text-center text-secondary">Latest Articles and Projects</h2>
    <div class="row">
        {{ range first 3 (where .Site.RegularPages "Section" "in" (slice "blog" "projects")) }}
            <div class="col-md-4 mb-4">
                <div class="card d-flex flex-column h-100">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="{{ .RelPermalink }}" class="text-decoration-none text-dark">{{ .Title }}</a>
                        </h5>
                        <p class="text-muted small">Published on {{ .Date.Format "02 January 2006" }}</p>

                        <div class="tags mb-2">
                            {{ range .Params.tags }}
                                <span class="badge bg-secondary me-1">{{ . }}</span>
                            {{ end }}
                        </div>

                        <!-- Pousse le bouton en bas -->
                        <div class="mt-auto">
                            <a href="{{ .RelPermalink }}" class="btn btn-outline-primary btn-sm">Read more</a>
                        </div>
                    </div>
                </div>
            </div>
        {{ end }}
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // R√©cup√©ration des tags depuis Hugo sous forme de tableau
        const wordsHugo = [
            {{ range $index, $tag := .Site.Taxonomies.tags }}
                {{ if $index }},{{ end }} "{{  $tag.Page.Title }}"
            {{ end }}
        ];

        // Correction : D√©calage propre des √©l√©ments
        let words = new Array(wordsHugo.length - 1);
        for (let i = 0; i < wordsHugo.length - 1; i++) {
            words[i] = wordsHugo[i + 1]; // D√©cale les √©l√©ments proprement
        }

        let i = 0;
        const changingWord = document.getElementById("changing-word");

        function typeWriterEffect(word, index) {
            if (!word) return; // √âvite une erreur si `word` est undefined

            if (index <= word.length) {
                changingWord.textContent = word.substring(0, index);
                setTimeout(() => typeWriterEffect(word, index + 1), 100);
            } else {
                setTimeout(() => deleteEffect(word.length), 2000);
            }
        }

        function deleteEffect(length) {
            if (!words || words.length === 0) return; // V√©rification propre

            if (length >= 0) {
                changingWord.textContent = changingWord.textContent.substring(0, length);
                setTimeout(() => deleteEffect(length - 1), 50);
            } else {
                i = (i + 1) % words.length;
                setTimeout(() => typeWriterEffect(words[i], 0), 500);
            }
        }

        // D√©marrer l'effet avec le premier tag si la liste n'est pas vide
        if (words.length > 0) {
            typeWriterEffect(words[i], 0);
        }
    });
</script>



{{ end }}